<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Steushio Alert Control Panel</title>

<style>
body {
  background:#0b1020;
  color:white;
  font-family:Arial, sans-serif;
  padding:20px;
}
input, select, button {
  padding:8px;
  margin:6px 0;
  width:260px;
}
button {
  cursor:pointer;
}
hr {
  margin:20px 0;
}
</style>
</head>

<body>

<h2>üéõ Alert Control Panel</h2>

<label>Thank You Text</label><br>
<input id="thankText" value="‚ù§Ô∏è {name} supported ‚Çπ{amount}"><br>

<label>Font Size</label><br>
<input type="number" id="fontSize" value="28"><br>

<label>Text Color</label><br>
<input type="color" id="textColor" value="#ffffff"><br>

<hr>

<label>Select Alert Sound</label><br>
<select id="alertSound"></select><br>

<label>Select Alert GIF</label><br>
<select id="alertGif"></select><br>

<br>
<button onclick="saveSettings()">Save Settings</button>
<button onclick="previewAlert()">Preview Alert</button>

<script>
document.addEventListener("DOMContentLoaded", async () => {
  try {
    const res = await fetch("./assets.json", { cache: "no-store" });
    if (!res.ok) throw new Error("assets.json not found");

    const data = await res.json();

    const soundSelect = document.getElementById("alertSound");
    const gifSelect = document.getElementById("alertGif");

    soundSelect.innerHTML = "<option value=''>-- Select Sound --</option>";
    gifSelect.innerHTML = "<option value=''>-- Select GIF --</option>";

    data.sounds.forEach(path => {
      const opt = document.createElement("option");
      opt.value = path;
      opt.textContent = path.split("/").pop();
      soundSelect.appendChild(opt);
    });

    data.gifs.forEach(path => {
      const opt = document.createElement("option");
      opt.value = path;
      opt.textContent = path.split("/").pop();
      gifSelect.appendChild(opt);
    });

    const saved = JSON.parse(localStorage.getItem("alertSettings"));
    if (saved) {
      thankText.value = saved.text;
      fontSize.value = saved.size;
      textColor.value = saved.color;
      alertSound.value = saved.sound;
      alertGif.value = saved.gif;
    }

  } catch (err) {
    console.error(err);
    alert("‚ùå Failed to load assets.json ‚Äî check path & structure");
  }
});
</script>


</body>
</html>
